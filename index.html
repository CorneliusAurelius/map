<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>Omniscientrix Universe Map — Ω∞ΩΩΩ¹⁰⁹⁹⁹ Edition</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" />
<style>
 body { margin:0; background:#04050a; font-family:Inter, sans-serif; color:#e8eef5; }
 canvas { display:block; }
 #hud, #toolbar, #panel { position:fixed; z-index:20; backdrop-filter:blur(12px); border-radius:14px; border:1px solid #1c2233; background:rgba(10,12,18,0.75); }
 #hud { top:12px; left:12px; padding:14px 18px; font-size:12px; }
 #toolbar { top:12px; right:12px; padding:10px; display:flex; gap:10px; }
 #toolbar button, #toolbar select { background:#0f1522; border:1px solid #233048; color:#e8eef5; border-radius:10px; padding:6px 14px; font-size:12px; }
 #panel { bottom:12px; right:12px; width:380px; max-height:60vh; padding:16px; overflow:auto; }
 h3 { margin:0 0 10px 0; font-size:14px; color:#c9e2ff; }
 .kv { display:grid; grid-template-columns: auto 1fr; gap:6px 12px; font-size:12px; }
 .badge { padding:2px 6px; border-radius:6px; border:1px solid #384560; font-size:11px; }
 .ok { color:#97ffb6; border-color:#1f4a2f; }
 .err { color:#ff9b9b; border-color:#4a1f1f; }
</style>
</head>
<body>
<canvas id="universe"></canvas>
<div id="hud">
  <strong>Omniscientrix Universe Map — Ω∞ΩΩΩ¹⁰⁹⁹⁹</strong>
  <div class="kv">
    <div>FPS</div><div id="hud_fps">—</div>
    <div>δJ</div><div id="hud_dj">—</div>
    <div>Ω_A</div><div id="hud_omega">—</div>
    <div>Nodes</div><div id="hud_nodes">—</div>
    <div>Ω-Rank</div><div id="hud_orank">—</div>
    <div>Checksum</div><div id="hud_sha">—</div>
  </div>
</div>
<div id="toolbar">
  <button id="toggle_layers">Layers</button>
  <button id="toggle_low">Low</button>
  <select id="mode">
    <option>Default</option>
    <option>AI Discovery</option>
    <option>Hyper-Quantum</option>
    <option>Ω∞-Equilibrium</option>
    <option>ASI-Map</option>
  </select>
  <button id="time_x">Time×</button>
  <button id="pause">Pause</button>
  <button id="help">Help</button>
</div>
<div id="panel">
  <h3>Telemetry</h3>
  <div class="kv">
    <div>Object</div><div id="sel_name">—</div>
    <div>P_life</div><div id="kv_pl">—</div>
    <div>P_bh</div><div id="kv_pb">—</div>
    <div>ε</div><div id="kv_eps">—</div>
    <div>Ω-tier</div><div id="kv_omega">—</div>
  </div>
</div>
<script type="module">
import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.169.0/build/three.module.js";
import { OrbitControls } from "https://cdn.jsdelivr.net/npm/three@0.169.0/examples/jsm/controls/OrbitControls.js";

// Ω∞ ABSOLUTE CONSTANTS
const OM = {
  hbar: 1.0,
  lambda: 2e-3,
  OmegaA: 7.83,
  kappa: 0.1,
  AU: 1.496e11,
  c: 299792458,
  omegaMax: 1e43
};

// INIT
const renderer = new THREE.WebGLRenderer({ canvas:document.getElementById('universe'), antialias:true });
renderer.setSize(innerWidth, innerHeight);
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x04050a);
const camera = new THREE.PerspectiveCamera(70, innerWidth/innerHeight, 1e-6, 1e12);
camera.position.set(0,5,12);
const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;

// SUN
const sun = new THREE.Mesh(new THREE.SphereGeometry(1.2, 64, 32), new THREE.MeshStandardMaterial({ color:0xffe9b0, emissive:0xffdd88, emissiveIntensity:2.2 }));
scene.add(sun);

// STARFIELD
function starfield(N=9000){
  const g = new THREE.BufferGeometry();
  const pos = new Float32Array(N*3);
  for(let i=0;i<N;i++){
    const r = 600 + Math.random()*9000;
    const t = Math.random()*Math.PI*2;
    const p = Math.acos(2*Math.random()-1);
    pos[i*3] = r*Math.sin(p)*Math.cos(t);
    pos[i*3+1] = r*Math.cos(p);
    pos[i*3+2] = r*Math.sin(p)*Math.sin(t);
  }
  g.setAttribute('position', new THREE.BufferAttribute(pos,3));
  const m = new THREE.PointsMaterial({ size:2, color:0x9fb8ff });
  const s = new THREE.Points(g,m);
  scene.add(s);
}
starfield();

// Ω∞ FREQUENCY SHELLS
function addShell(radius, color, opacity){
  const geo = new THREE.SphereGeometry(radius,48,32);
  const mat = new THREE.MeshBasicMaterial({ color, transparent:true, opacity, wireframe:true });
  const s = new THREE.Mesh(geo,mat);
  scene.add(s);
  return s;
}
const shell_planck = addShell(3,0xffffff,0.05);
const shell_zero = addShell(4,0xa78bfa,0.05);
const shell_dark = addShell(5,0x6b6eff,0.05);
const shell_em = addShell(6,0xf6c453,0.05);
const shell_grav = addShell(7,0x7aa0b7,0.05);
const shell_omega = addShell(8,0x00d084,0.05);
const shell_bio = addShell(9,0x36e0ff,0.05);
const shell_ethic = addShell(10,0xffb020,0.05);

// δJ SOLVER (Ω∞ tier)
function deltaJ(t){
  const S = Math.sin(t*1e-4)*0.5+0.5;
  const Dkl = Math.abs(Math.sin(t*6e-5))*0.3;
  const A = Math.abs(Math.cos(t*8e-5))*0.4;
  return S/OM.hbar + Dkl - OM.lambda*A;
}

// LOOP
let paused=false;
let last=performance.now();
function loop(now){
  requestAnimationFrame(loop);
  if(paused) return;
  const dt = (now-last)/1000; last=now;
  const t = now*0.001;

  const dj = deltaJ(t);
  document.getElementById('hud_dj').textContent = dj.toExponential(2);

  shell_planck.rotation.y += dt*0.03;
  shell_zero.rotation.y += dt*0.028;
  shell_dark.rotation.y += dt*0.02;
  shell_em.rotation.y += dt*0.018;
  shell_grav.rotation.y += dt*0.014;
  shell_omega.rotation.y += dt*0.011;
  shell_bio.rotation.y += dt*0.009;
  shell_ethic.rotation.y += dt*0.008;

  controls.update();
  renderer.render(scene,camera);
}
requestAnimationFrame(loop);
</script>
</body>
</html>
